French Onion & Mac and Cheese
  --Sam Block, America's Test Kitchen

12 oz elbow macaroni
1/2 tsp salt + salt for cooking pasta
2 tbsp unsalted butter
3 lb onions, halved and sliced thin
4 sprigs fresh thyme
1 bay leaf
1/2 tsp sugar
1 c beef broth
3 tbsp ap flour
2 1/2 c milk 
8 oz Monterey Jack cheese, shredded (2 c), divided
8 oz Gruyère cheese, shredded (2 2/3 c), divided
1 tsp Dijon mustard

Adjust oven rack to upper-middle position and heat oven to 450 F. Bring 4 qt water to boil in Dutch oven. Add macaroni and 1 tbsp salt and cook, stirring often, until tender. Drain macaroni and set aside in colander. Add butter to now-empty pot and melt over medium-high heat. Stir in onions, thyme, salt, and sugar. Cover and cook, stirring occasionally, until onions release their liquid and are uniformly translucent, ~20 min. Uncover and cook until liquid has evaporated and fond start to form on bottom of pot, 5-10 min. Reduce heat to medium and continue to cook, uncovered, until onions are caramel colored, 30-40 min longer, stirring and scraping with wooden spoon as browned bits form on bottom of pot and spreading onions into even layer after stirring. (If onions or fond begin to scorch, reduce heat to medium-low.) Discard thyme sprigs and bay leaf. Stir in broth, scraping up any browned bits, and cook until slightly thickened, ~1 min. Whisk in flour and cook for 1 min. Slowly whisk in milk until smooth. Bring mixture to boil, adjust heat to medium, and cook, whisking occasionally, until thickened to consistency of heavy cream, ~5 min. Add 6 oz Monterey Jack cheese, 6 oz Gruyère, and mustard, stirring constantly, until cheese is completely melted, ~1 min. Add macaroni and cook over medium-low heat, stirring constantly, until steaming and heated through, ~6 min. Transfer to 13x9" baking dish and sprinkle with remaining 2 oz Monterey Jack and Gruyère. Bake until spotty brown and filling is bubbling, 15-20 min. Let rest for 5 min. Serve.
